<div class="animated fadeIn">
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-md-1">
              <div class="button-group" style="margin-bottom:10px">
                <button type="button" class="btn btn-success" (click)="add($event)">
                  <i class="fa fa-plus-circle"></i>&nbsp; Thêm</button>
              </div>
            </div>
            <div class="col-md-1">
              <div class="input-group" style="margin-bottom:10px">
                <button type="button" class="btn btn-primary" (click)="wardModal.show();">
                  <i class="fa fa-gavel"></i>&nbsp; Quy hoạch</button>
              </div>
            </div>
            <div class="col-md-2 offset-md-1">
              <div class="input-group" style="margin-bottom:10px">
                <button type="button" class="btn btn-primary" (click)="wardModal.show();">
                  <i class="fa fa-info-circle"></i>&nbsp; Thông tin quy hoạch</button>
              </div>
            </div>
            <div class="col-md-4 offset-md-3">
              <div class="input-group">
                <span class="input-group-addon">
                  <i class="fa fa-search"></i>
                </span>
                <input class="form-control ng-untouched ng-pristine ng-valid" placeholder="Search by name" type="text">
              </div>
            </div>
          </div>
          <common-list [resource]="'blueprint_schedule_tbl'" [mapTable]="mapTable" (removeItem)="removeItem($event)"></common-list>
        </div>
      </div>
    </div>
  </div>
</div>

<div bsModal #wardModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Quy hoạch</h4>
        <button type="button" class="close" (click)="wardModal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" style="padding: 5px;">
        <div class="container" style="padding-left: 0px;">
          <div class="row">
            <div class="col-md-3" style="padding-right: 0px;">
              <ul class="list-group">
                <li *ngFor="let item of scheduleOption" class="list-group-item" [ngClass]="item.selected==true?'active':''" (click)="selectOptionSchedule(item.option, scheduleOption)">{{item.title}}</li>
                <!-- <li class="list-group-item" [ngClass]="scheduleOption.option=='month'?'active':''" (click)="selectOptionSchedule('month')">Tháng</li>
                <li class="list-group-item" [ngClass]="scheduleOption.option=='quarter'?'active':''" (click)="selectOptionSchedule('quarter')">Quý</li>
                <li class="list-group-item" [ngClass]="scheduleOption.option=='year'?'active':''" (click)="selectOptionSchedule('year')">Năm</li> -->
              </ul>
            </div>
            <div class="col-md-9" style="padding-right: 0px;">
              <div class="card" style="height: 100%;">
                <div class="card-body">
                  <div *ngFor="let sches of scheduleOption">
                    <ng-container *ngIf="sches.selected">
                      <div *ngFor="let item of sches.subSchedule" class="row">
                        <div class="col-md">
                          <fieldset class="form-group">
                            <label>{{item.title}}</label>
                            <div class="input-group">
                              <span class="input-group-addon">
                                <input type="radio" aria-label="..." [checked]="item.selected==true" (click)="selectOptionSchedule(item.option, sches.subSchedule)">
                              </span>
                              <input *ngIf="item.type=='date'" (focus)="selectOptionSchedule(item.option, sches.subSchedule)" type="text" class="form-control" aria-label="..." style="background: transparent" [(ngModel)]="item.start_time"  bsDatepicker value="{{item.startDate | date:'dd/MM/yyyy'}}" [isDisabled]="!item.isEdit">
                              <input *ngIf="item.type=='date_range'" (focus)="selectOptionSchedule(item.option, sches.subSchedule)" type="text" class="form-control" aria-label="..." style="background: transparent" [(ngModel)]="item.start_time"  bsDaterangepicker  value="{{item.startDate | date:'dd/MM/yyyy'}}" [isDisabled]="!item.isEdit">

                            </div>
                          </fieldset>
                        </div>
                      </div>
                      <!-- <div class="row">
                      <div class="col-md">
                        <fieldset class="form-group">
                          <label>Ngày mai</label>
                          <div class="input-group">
                            <span class="input-group-addon">
                              <input type="radio" aria-label="..." [(ngModel)]="scheduleOption.subOption" value='tomorrow'>
                            </span>
                            <input type="text" class="form-control" aria-label="..." style="background: transparent" [readonly]="true" value="{{tomorrowDate | date:'dd/MM/yyyy'}}">
                          </div>
                        </fieldset>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md">
                        <fieldset class="form-group">
                          <label>Tùy chọn ngày</label>
                          <div class="input-group">
                            <span class="input-group-addon">
                              <input type="radio" aria-label="..." [(ngModel)]="scheduleOption.subOption" value='optiondate'>
                            </span>
                            <input type="text" class="form-control" (focus)="scheduleOption.subOption='optiondate';" #dp="bsDatepicker" bsDatepicker [(bsValue)]="scheduleOption.startDate" value='{{scheduleOption.startDate | date : "dd/MM/yyyy"}}'>
                          </div>
                        </fieldset>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md">
                        <fieldset class="form-group">
                          <label>Từ ngày - đến ngày</label>
                          <div class="input-group">
                            <span class="input-group-addon">
                              <input type="radio" aria-label="..." [(ngModel)]="scheduleOption.subOption" value='optionrangedate'>
                            </span>
                            <input class="form-control" #drp="bsDaterangepicker" bsDaterangepicker [(ngModel)]="rangeDate">
                          </div>
                        </fieldset>
                      </div>
                    </div> -->
                    </ng-container>
                  </div>
                  <!-- <div *ngIf="scheduleOption.option == 'month'">

                  </div>
                  <div *ngIf="scheduleOption.option == 'quarter'">

                  </div>
                  <div *ngIf="scheduleOption.option == 'year'">

                  </div> -->

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer right-content">
        <button type="reset" class="btn btn-sm btn-danger">
          <i class="fa fa-close"></i> Hủy</button>
        <button type="submit" style="margin-left:10px" (click)="quyhoach()" class="btn btn-sm btn-success">
          <i class="fa fa-file-o"></i> Quy hoạch</button>
      </div>
    </div>
  </div>
</div>